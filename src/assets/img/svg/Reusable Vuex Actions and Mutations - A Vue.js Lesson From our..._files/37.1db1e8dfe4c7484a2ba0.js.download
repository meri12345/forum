(window.webpackJsonp=window.webpackJsonp||[]).push([[37,45],{10:function(n,e,t){"use strict";function s(n,e,t,s,a,o,r,i){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),s&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(r)},c._ssrRegister=l):a&&(l=i?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(n,e){return l.call(e),d(n,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:c}}t.d(e,"a",function(){return s})},63:function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",s=n[3];if(!s)return t;if(e&&"function"==typeof btoa){var a=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(s),o=s.sources.map(function(n){return"/*# sourceURL="+s.sourceRoot+n+" */"});return[t].concat(o).concat([a]).join("\n")}return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var s={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(s[o]=!0)}for(a=0;a<n.length;a++){var r=n[a];"number"==typeof r[0]&&s[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),e.push(r))}},e}},64:function(n,e,t){"use strict";function s(n,e){for(var t=[],s={},a=0;a<e.length;a++){var o=e[a],r=o[0],i={id:n+":"+a,css:o[1],media:o[2],sourceMap:o[3]};s[r]?s[r].parts.push(i):t.push(s[r]={id:r,parts:[i]})}return t}t.r(e),t.d(e,"default",function(){return f});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=a&&(document.head||document.getElementsByTagName("head")[0]),i=null,l=0,c=!1,d=function(){},p=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(n,e,t,a){c=t,p=a||{};var r=s(n,e);return v(r),function(e){for(var t=[],a=0;a<r.length;a++){var i=r[a];(l=o[i.id]).refs--,t.push(l)}e?v(r=s(n,e)):r=[];for(a=0;a<t.length;a++){var l;if(0===(l=t[a]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function v(n){for(var e=0;e<n.length;e++){var t=n[e],s=o[t.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](t.parts[a]);for(;a<t.parts.length;a++)s.parts.push(y(t.parts[a]));s.parts.length>t.parts.length&&(s.parts.length=t.parts.length)}else{var r=[];for(a=0;a<t.parts.length;a++)r.push(y(t.parts[a]));o[t.id]={id:t.id,refs:1,parts:r}}}}function g(){var n=document.createElement("style");return n.type="text/css",r.appendChild(n),n}function y(n){var e,t,s=document.querySelector("style["+u+'~="'+n.id+'"]');if(s){if(c)return d;s.parentNode.removeChild(s)}if(h){var a=l++;s=i||(i=g()),e=b.bind(null,s,a,!1),t=b.bind(null,s,a,!0)}else s=g(),e=function(n,e){var t=e.css,s=e.media,a=e.sourceMap;s&&n.setAttribute("media",s);p.ssrId&&n.setAttribute(u,e.id);a&&(t+="\n/*# sourceURL="+a.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,s),t=function(){s.parentNode.removeChild(s)};return e(n),function(s){if(s){if(s.css===n.css&&s.media===n.media&&s.sourceMap===n.sourceMap)return;e(n=s)}else t()}}var _=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function b(n,e,t,s){var a=t?"":s.css;if(n.styleSheet)n.styleSheet.cssText=_(e,a);else{var o=document.createTextNode(a),r=n.childNodes;r[e]&&n.removeChild(r[e]),r.length?n.insertBefore(o,r[e]):n.appendChild(o)}}},818:function(n,e,t){"use strict";t.r(e);var s=t(849),a=t(828),o=t.n(a),r={props:{id:{required:!0},lesson_id:{default:null},next_lesson_url:{default:null},previous_lesson_url:{default:null},show_controls:{default:!1},userIsGuest:{default:!0},userHasSubscription:{default:!1},showBanner:{default:!1}},data(){return{options:{id:this.id,loop:!1,portrait:!1,title:!1,byline:!1,responsive:!0},tracking:{segmentSize:this.lesson_id?30:10},player:null,speedDropdownOpen:!1,speed:1,autoplay:!1,trackProgress:null}},methods:{lessonWatched(){this.lesson_id&&axios.post(`/api/lessons/${this.lesson_id}/watch`)},setSpeed(n){this.speed=n.target.innerText,this.player.setPlaybackRate(this.speed),this.speedDropdownOpen=!1},updateCurrentTime(n){this.player.getCurrentTime().then(e=>{let t=e+n;t=t>0?t:0,this.player.setCurrentTime(t)})},goToNextLesson(){this.next_lesson_url&&(window.location.href=this.next_lesson_url)},goToPreviousLesson(){this.previous_lesson_url&&(window.location.href=this.previous_lesson_url)},showSaveProgressModal(){this.$modal.show("SaveProgressModal",{onSuccess:()=>{this.lessonWatched(),this.goToNextLesson()}})},showNextLessonModal(){this.$modal.show("NextLessonModal",{onSuccess:()=>{this.goToNextLesson()}})},onboard(){window.location.href="/plans"}},watch:{autoplay(n){o.a.set("toggle-autoplay",n)}},mounted(){this.player=new s.a(this.$refs["vimeo-player"],this.options),o.a.get("toggle-autoplay")&&this.player.play(),this.player.on("playbackratechange",n=>{o.a.set("vs-player-playbackRate",n.playbackRate)}),this.player.on("play",()=>{const n=1e3*this.tracking.segmentSize;this.trackProgress&&clearInterval(this.trackProgress),this.trackProgress=setInterval(()=>{Promise.resolve().then(t.t.bind(null,13,7)).then(n=>{const e=this.lesson_id?"/api/track/lesson/"+this.lesson_id:"/api/track/sample";n.post(e,{video_id:this.id,duration:this.tracking.segmentSize})})},n)}),this.player.on("pause",()=>{clearInterval(this.trackProgress)}),this.player.on("texttrackchange",n=>{o.a.set("vs-player-captions",n.language?n.language:"disabled")}),this.player.on("ended",()=>{window.Vueschool.user?(this.lessonWatched(),o.a.get("toggle-autoplay")&&this.next_lesson_url&&this.showNextLessonModal()):this.showSaveProgressModal()}),i(this)}};const i=n=>{n.autoplay=!!o.a.get("toggle-autoplay");const e=n.player;o.a.get("vs-player-playbackRate")&&(n.speed=o.a.get("vs-player-playbackRate"),e.setPlaybackRate(n.speed)),o.a.get("vs-player-captions")?("showing"===o.a.get("vs-player-captions")&&o.a.set("vs-player-captions","en-US"),"disabled"!==o.a.get("vs-player-captions")&&e.enableTextTrack(o.a.get("vs-player-captions"))):e.enableTextTrack("en-US")};var l=r,c=(t(829),t(10)),d=Object(c.a)(l,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"bg-indigo-dark"},[t("div",{ref:"vimeo-player"}),n._v(" "),n._t("default"),n._v(" "),n.show_controls?t("div",{staticClass:"video-controls"},[t("ul",[t("li",{class:{disabled:!n.previous_lesson_url},on:{click:n.goToPreviousLesson}},[t("i",{staticClass:"fas fa-angle-left"}),n._v(" "),t("span",{staticClass:"label"},[n._v("Previous")])]),n._v(" "),t("li",{on:{click:function(e){return n.updateCurrentTime(-10)}}},[t("i",{staticClass:"fas fa-angle-double-left"}),n._v(" "),t("span",{staticClass:"label"},[n._v("-10s")])])]),n._v(" "),t("ul",[t("li",{staticClass:"speed relative"},[t("span",{staticClass:"text-center flex items-center",on:{click:function(e){n.speedDropdownOpen=!n.speedDropdownOpen}}},[t("i",{staticClass:"fas fa-tachometer"}),n._v(" "),t("br",{staticClass:"mobile-only"}),t("span",[n._v(n._s(n.speed)+"x")])]),n._v(" "),t("ul",{staticClass:"dropdown",class:{"dropdown-open":n.speedDropdownOpen}},[t("li",{on:{click:n.setSpeed}},[n._v("0.75")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("0.85")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.00")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.25")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.50")]),n._v(" "),t("li",{on:{click:n.setSpeed}},[n._v("1.75")])])]),n._v(" "),t("li",{on:{click:function(e){n.autoplay=!n.autoplay}}},[t("label",{staticClass:"fas switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.autoplay,expression:"autoplay"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(n.autoplay)?n._i(n.autoplay,null)>-1:n.autoplay},on:{change:function(e){var t=n.autoplay,s=e.target,a=!!s.checked;if(Array.isArray(t)){var o=n._i(t,null);s.checked?o<0&&(n.autoplay=t.concat([null])):o>-1&&(n.autoplay=t.slice(0,o).concat(t.slice(o+1)))}else n.autoplay=a}}}),n._v(" "),t("span",{staticClass:"slider round"})]),n._v(" "),t("span",{staticClass:"leading-normal"},[n._v("Auto Play")])])]),n._v(" "),t("ul",{staticClass:"right"},[t("li",{on:{click:function(e){return n.updateCurrentTime(10)}}},[t("span",{staticClass:"label"},[n._v("+10s")]),n._v(" "),t("i",{staticClass:"fas fa-angle-double-right"})]),n._v(" "),t("li",{class:{disabled:!n.next_lesson_url},on:{click:n.goToNextLesson}},[t("span",{staticClass:"label"},[n._v("Next")]),n._v(" "),t("i",{staticClass:"fas fa-angle-right"})])])]):n._e()],2)},[],!1,null,"f1e3e582",null);e.default=d.exports},822:function(n,e,t){var s=t(830);"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);(0,t(64).default)("5fb89678",s,!0,{})},829:function(n,e,t){"use strict";var s=t(822);t.n(s).a},830:function(n,e,t){(n.exports=t(63)(!1)).push([n.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* The switch - the box around the slider */\n.switch[data-v-f1e3e582] {\n    position: relative;\n    display: inline-block;\n    width: 25px; /* 60 */\n    height: 15px; /* 34 */\n    margin-right: 5px;\n}\n\n/* Hide default HTML checkbox */\n.switch input[data-v-f1e3e582] {\n    display: none;\n}\n\n/* The slider */\n.slider[data-v-f1e3e582] {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #a7a7a7;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\n.slider[data-v-f1e3e582]:before {\n    position: absolute;\n    content: "";\n    height: 11px;\n    width: 11px;\n    left: 2px;\n    bottom: 2px;\n    background-color: #2c3234;\n    -webkit-transition: .4s;\n    transition: .4s;\n}\ninput:checked + .slider[data-v-f1e3e582] {\n    background-color: #57AD8D;\n}\ninput:focus + .slider[data-v-f1e3e582] {\n    box-shadow: 0 0 1px #57AD8D;\n}\ninput:checked + .slider[data-v-f1e3e582]:before {\n    -webkit-transform: translateX(10px);\n    -ms-transform: translateX(10px);\n    transform: translateX(10px);\n}\n\n/* Rounded sliders */\n.slider.round[data-v-f1e3e582] {\n    border-radius: 34px;\n}\n.slider.round[data-v-f1e3e582]:before {\n    border-radius: 50%;\n}\n',""])}}]);
//# sourceMappingURL=~/bundles/37.1db1e8dfe4c7484a2ba0.js.map